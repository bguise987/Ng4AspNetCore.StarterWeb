@using Microsoft.Extensions.Options;
@using Ng4AspNetCore.StarterWeb.Settings;
@inject IOptions<AzureAdB2c> settings;

<app-root>Loading...</app-root>

@section scripts {
	<script type="text/javascript" src="~/dist/inline.bundle.js"></script>
	<script type="text/javascript" src="~/dist/polyfills.bundle.js"></script>
	<script type="text/javascript" src="~/dist/vendor.bundle.js"></script>
	<script type="text/javascript" src="https://secure.aadcdn.microsoftonline-p.com/lib/0.1.1/js/msal.min.js"></script>
	<script type="text/javascript" src="~/dist/main.bundle.js"></script>

	<script type="text/javascript">
		var authSettings = {
			"tenantId": "@settings.Value.TenantId",
			"clientId": "@settings.Value.ClientId",
			"policyName": "@settings.Value.PolicyName",
			"scopes": [@Html.Raw(settings.Value.GetScopes())]
		};

		main.run(authSettings);
	</script>
}